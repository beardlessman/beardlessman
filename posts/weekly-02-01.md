---
title: Отчет за неделю
description: Отчет за неделю
date: 2020-02-01
tags:
  - weekly-report
layout: layouts/post.njk
---

За прошлую неделю переписал блог два с половиной раза. 

1. Сделал версию на связке Express + MongoDB. Заметки пишутся в [маркдауне](https://simplemde.com/), сохраняются в базу + бэкапятся в файл. Не реализовал ещё полный CRUD, но уже можно удобно писать с любого устройства. Можно бесконечно улучшать форму создания (мой идеал – как в твиторе). Но: возникает [«налог на БД»](https://indieweb.org/database-antipattern#DBA_tax), поэтому...

2. ...вернулся к статике, генерируемой Eleventy. В этот раз взял за основу [базовый вариант](https://github.com/11ty/eleventy-base-blog)

В итоге придумал вот так: на основном домене – обычная статика; на отдельном субдомене – NodeJS-приложение, а-ля «админка». Заметки можно писать руками в текстовом редакторе, а можно через форму на сайте (черновики). Развивать и деплоить каждую часть можно по-отдельности. Созданные через форму заметки попадают под сборку Eleventy и отображаются в блоге.

Буду стремится к хорошей реализации такой архитектуры. Из критичного не хватает двух вещей: прикрепления картинок к черновикам и автоматического попадания этих черновиков в блог. Пока что буду доставать, редактировать и собирать руками. Жить можно.

*(Вообще, я не уверен насчет необходимости автоматической доставки черновиков в блог. На то они и черновики. Просто это интересная задачка, чисто технически.)*

Ещё понял, что слишком увлекся технической реализацией. Нафига всё это, если контента нет? Записал несколько вариантов, о чем рассказать. Даже набросал пару черновиков (могу теперь, кек). Скоро запилю посты.


